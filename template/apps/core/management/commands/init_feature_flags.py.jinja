"""Initialize default feature flags, switches, and samples."""
from django.core.management.base import BaseCommand
from apps.core.feature_flags import (
    create_default_flags,
    create_default_switches,
    create_default_samples,
)


class Command(BaseCommand):
    """Initialize feature flags."""

    help = "Initialize default feature flags, switches, and samples"

    def handle(self, *args, **options):
        """Run the command."""
        self.stdout.write("Initializing feature flags...")

        create_default_flags()
        self.stdout.write(self.style.SUCCESS("✓ Created default flags"))

        create_default_switches()
        self.stdout.write(self.style.SUCCESS("✓ Created default switches"))

        create_default_samples()
        self.stdout.write(self.style.SUCCESS("✓ Created default samples"))

        self.stdout.write(
            self.style.SUCCESS("\nFeature flags initialized successfully!")
        )
        self.stdout.write(
            "You can manage them in the Django admin under 'Waffle'"
        )
